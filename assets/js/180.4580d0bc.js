(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{675:function(a,t,s){"use strict";s.r(t);var r=s(6),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"jmeter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jmeter"}},[a._v("#")]),a._v(" Jmeter")]),a._v(" "),s("h4",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("p",[a._v("1、下载地址：https://link.juejin.im/?target=http%3A%2F%2Fjmeter.apache.org%2Fdownload_jmeter.cgi")]),a._v(" "),s("p",[a._v("2、修改  /bin 下的 jmeter.properties 文件， 修改 language为：zh_CN。然后在运行 jemter.bat")]),a._v(" "),s("h4",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("p",[a._v("1、添加 ->  线程(用户) -> 线程组\n2、线程组 -> 添加 -> 测试元件 -> http请求默认值\n3、线程组 -> 添加 -> 测试元件 -> HTTP信息头管理器\n4、线程组 -> 添加 -> 取样器 -> HTTP请求\n5、线程组 -> 添加 -> 监听器 -> XXXXXXXXX")]),a._v(" "),s("h3",{attrs:{id:"arthas-开源java诊断工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#arthas-开源java诊断工具"}},[a._v("#")]),a._v(" Arthas--开源java诊断工具")]),a._v(" "),s("p",[a._v("项目地址：https://github.com/alibaba/arthas")]),a._v(" "),s("p",[a._v("安装: 执行 ./install.sh\n启动: 执行 ./as.sh pid")]),a._v(" "),s("h4",{attrs:{id:"安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("p",[a._v("1、方式一：java包启动")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ wget https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("alibaba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("io"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("arthas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("arthas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jar\n\n$ java "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("jar arthas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("target"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ip 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0\n")])])]),s("p",[a._v("2、方式二：在线安装")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ curl "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("L https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("alibaba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("io"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("arthas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("install"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sh "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(" sh\n\n$ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("as"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sh PID "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#进程id 指定JAVA进程id")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("as"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("h "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#h来获取更多参数信息")]),a._v("\n")])])]),s("p",[a._v("如果希望远程连接arthas服务，需要对外暴露本机的Ip。另外，启动之前需要确保已启动java程序。（亲测，阿里云腾讯云必须使用内网iP才可以）")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("### 方式1")]),a._v("\n$ java "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("jar arthas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("target"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ip 122"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("51"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("137"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("246\n$ java "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("jar arthas"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("boot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("telnet"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("port 9999 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("http"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("1\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("### 方式2")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("as"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("target"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ip 122"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("51"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("137"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("246\n$ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("as"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("telnet"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("port 9999 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("http"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("1\n")])])]),s("p",[a._v("可以直接 http://122.51.137.246:3658 或者 telnet 控制台方式访问可视化界面")]),a._v(" "),s("h4",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("h5",{attrs:{id:"dashboard-当前系统的实时数据面板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-当前系统的实时数据面板"}},[a._v("#")]),a._v(" "),s("code",[a._v("dashboard")]),a._v(" 当前系统的实时数据面板")]),a._v(" "),s("p",[a._v("会显示 Thread、Memory、GC、Runtime、Tomcat等相关实时数据")]),a._v(" "),s("h5",{attrs:{id:"thread-查看当前-jvm-的线程堆栈信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thread-查看当前-jvm-的线程堆栈信息"}},[a._v("#")]),a._v(" "),s("code",[a._v("thread")]),a._v(" 查看当前 JVM 的线程堆栈信息")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ thread "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("n 3   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#当前最忙的前N个线程")]),a._v("\n$ thread "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("b   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##找出当前阻塞其他线程的线程")]),a._v("\n$ thread "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("n 3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("i 1000   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#间隔一定时间后展示")]),a._v("\n")])])]),s("h5",{attrs:{id:"jvm-查看当前-jvm-的信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jvm-查看当前-jvm-的信息"}},[a._v("#")]),a._v(" "),s("code",[a._v("jvm")]),a._v("  查看当前 JVM 的信息")]),a._v(" "),s("p",[s("code",[a._v("sc")]),a._v("  查看JVM已加载的类信息\n"),s("code",[a._v("sm")]),a._v("  查看已加载类的方法信息\n"),s("code",[a._v("jad")]),a._v("   反编译指定已加载类的源码\n"),s("code",[a._v("classloader")]),a._v("  查看classloader的继承树，urls，类加载信息，使用classloader去getResource\n"),s("code",[a._v("monitor")]),a._v("   方法执行监控")]),a._v(" "),s("h5",{attrs:{id:"watch-方法执行数据观测-包含-返回值、抛出异常、入参"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watch-方法执行数据观测-包含-返回值、抛出异常、入参"}},[a._v("#")]),a._v(" "),s("code",[a._v("watch")]),a._v(" 方法执行数据观测，包含：返回值、抛出异常、入参")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ watch "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#类名  #方法名 "{params,target,returnObj，throwExp }" ')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('##例子： watch com.example.demo.controller index2 "{params,target,returnObj}" -x 5')]),a._v("\n")])])]),s("h5",{attrs:{id:"trace-方法内部调用路径-并输出方法路径上的每个节点上耗时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trace-方法内部调用路径-并输出方法路径上的每个节点上耗时"}},[a._v("#")]),a._v(" "),s("code",[a._v("trace")]),a._v(" 方法内部调用路径，并输出方法路径上的每个节点上耗时")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ trace "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#类名  #方法名 ")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##例子：  trace com.ipdax.controller.userController  getUserInfo()")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##trace -j com.ipdax.controller.userController getUserInfo ’#cost >10‘ 按执行毫秒（10ms）过滤")]),a._v("\n")])])]),s("h5",{attrs:{id:"stack-输出当前方法被调用的调用路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stack-输出当前方法被调用的调用路径"}},[a._v("#")]),a._v(" "),s("code",[a._v("stack")]),a._v("  输出当前方法被调用的调用路径")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ stack "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#类名  #方法名 ")]),a._v("\n")])])]),s("h5",{attrs:{id:"monitor-方法的调用进行监控-调用次数、成功次数、失败次数、平均响应时长、失败率等"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#monitor-方法的调用进行监控-调用次数、成功次数、失败次数、平均响应时长、失败率等"}},[a._v("#")]),a._v(" "),s("code",[a._v("monitor")]),a._v(" 方法的调用进行监控，调用次数、成功次数、失败次数、平均响应时长、失败率等")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("$ monitor "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("c 4 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#类名  #方法名 ")]),a._v("\n")])])]),s("h5",{attrs:{id:"classloader-将jvm中所有的类加载器统计出来-树状展示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#classloader-将jvm中所有的类加载器统计出来-树状展示"}},[a._v("#")]),a._v(" "),s("code",[a._v("classloader")]),a._v("  将JVM中所有的类加载器统计出来，树状展示")]),a._v(" "),s("p",[s("code",[a._v("classloader -t")]),a._v("    # 类加载器间的层级关系")]),a._v(" "),s("h5",{attrs:{id:"tt-方法执行数据的时空隧道-记录下指定方法每次调用的入参和返回信息-并能对这些不同的时间下调用进行观测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tt-方法执行数据的时空隧道-记录下指定方法每次调用的入参和返回信息-并能对这些不同的时间下调用进行观测"}},[a._v("#")]),a._v(" "),s("code",[a._v("tt")]),a._v("  方法执行数据的时空隧道，记录下指定方法每次调用的入参和返回信息，并能对这些不同的时间下调用进行观测")]),a._v(" "),s("h5",{attrs:{id:"reset-重置增强类-将被-arthas-增强过的类全部还原-arthas-服务端关闭时会重置所有增强过的类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reset-重置增强类-将被-arthas-增强过的类全部还原-arthas-服务端关闭时会重置所有增强过的类"}},[a._v("#")]),a._v(" "),s("code",[a._v("reset")]),a._v("  重置增强类，将被 Arthas 增强过的类全部还原，Arthas 服务端关闭时会重置所有增强过的类")]),a._v(" "),s("h5",{attrs:{id:"quit-退出当前-arthas-客户端-其他-arthas-客户端不受影响"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quit-退出当前-arthas-客户端-其他-arthas-客户端不受影响"}},[a._v("#")]),a._v(" "),s("code",[a._v("quit")]),a._v("   退出当前 Arthas 客户端，其他 Arthas 客户端不受影响")]),a._v(" "),s("h5",{attrs:{id:"shutdown-关闭-arthas-服务端-所有-arthas-客户端全部退出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shutdown-关闭-arthas-服务端-所有-arthas-客户端全部退出"}},[a._v("#")]),a._v(" "),s("code",[a._v("shutdown")]),a._v("   关闭 Arthas 服务端，所有 Arthas 客户端全部退出")]),a._v(" "),s("h5",{attrs:{id:"jad-将需要更改的文件先进行反编译-保存下来-编译器修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jad-将需要更改的文件先进行反编译-保存下来-编译器修改"}},[a._v("#")]),a._v(" "),s("code",[a._v("jad")]),a._v("  将需要更改的文件先进行反编译，保存下来 ，编译器修改")]),a._v(" "),s("h5",{attrs:{id:"sc-查找当前类是哪个classloader加载的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sc-查找当前类是哪个classloader加载的"}},[a._v("#")]),a._v(" "),s("code",[a._v("SC")]),a._v("  查找当前类是哪个classLoader加载的")]),a._v(" "),s("h5",{attrs:{id:"mc-用指定的classloader重新将类在内存中编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mc-用指定的classloader重新将类在内存中编译"}},[a._v("#")]),a._v(" "),s("code",[a._v("MC")]),a._v("  用指定的classloader重新将类在内存中编译")]),a._v(" "),s("h5",{attrs:{id:"redefine-将编译后的类加载到jvm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redefine-将编译后的类加载到jvm"}},[a._v("#")]),a._v(" "),s("code",[a._v("redefine")]),a._v("  将编译后的类加载到JVM")]),a._v(" "),s("p",[a._v("以及一款不错的可视化插件：https://github.com/chengxy-nds/arthas-web.git")]),a._v(" "),s("h3",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[a._v("#")]),a._v(" 其他")])])}),[],!1,null,null,null);t.default=e.exports}}]);