(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{668:function(t,a,s){"use strict";s.r(a);var n=s(6),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),s("h3",{attrs:{id:"idea采用自己的maven配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#idea采用自己的maven配置"}},[t._v("#")]),t._v(" IDEA采用自己的maven配置")]),t._v(" "),s("p",[s("code",[t._v("~./conf")]),t._v(" 目录下配置配置文件：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("### 设置自己的maven仓库保存地址\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("localRepository")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("D:\\Program Files\\apache-maven-3.5.2\\george"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("localRepository")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n### 添加阿里云镜像\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirrors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirror")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("alimaven"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("aliyun maven"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("http://maven.aliyun.com/nexus/content/groups/public/"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mirrorOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("central"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirrorOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirror")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mirrors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n### 设置全局JDK\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jdk18"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activeByDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activeByDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("jdk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("jdk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("maven.compiler.source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("maven.compiler.source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("maven.compiler.target")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("maven.compiler.target")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("maven.compiler.compilerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.8"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("maven.compiler.compilerVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("   \n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n")])])]),t._v(" "),s("h4",{attrs:{id:"restful-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restful-api"}},[t._v("#")]),t._v(" RESTful API")]),t._v(" "),s("p",[t._v("五种请求类型：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("GET ：获取资源\nPOST ：新建资源\nPUT ：更新资源（客户端提供完整的资源）\nUPDATE ：更新资源（客户端提供改变的属性）\nDELETE ：删除资源\n")])])]),s("blockquote",[s("p",[t._v("RESTful的含义：url地址中只包含名词表示资源，使用http动词表示动作进行操作资源。\n例子：")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("### 错误   --\x3e  正确\nGET /blog/getArticles --\x3e GET /blog/Articles  获取所有文章\nGET /blog/addArticles --\x3e POST /blog/Articles  添加一篇文章\nGET /blog/editArticles --\x3e PUT /blog/Articles  修改一篇文章 \nGET /rest/api/deleteArticles?id="),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" --\x3e DELETE /blog/Articles/"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("  删除一篇文章\n")])])]),s("h4",{attrs:{id:"请求注解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求注解"}},[t._v("#")]),t._v(" 请求注解")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("@RequestParam   --针对get请求（无Body的请求）\n@RequestBody   --针对post请求\n@RequestHeader    --请求的头部校验\n")])])]),s("h4",{attrs:{id:"将linkedhashmap转换成对象object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将linkedhashmap转换成对象object"}},[t._v("#")]),t._v(" 将linkedHashMap转换成对象Object")]),t._v(" "),s("blockquote",[s("p",[t._v("ObjectMapper是Jackson提供的一个类，作用是将java对象与json格式相互转化")])]),t._v(" "),s("p",[t._v("list是传入的linkedHashMap格式数据")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectMapper")]),t._v(" mapper "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectMapper")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" infos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mapper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("convertValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TypeReference")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"事务管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事务管理"}},[t._v("#")]),t._v(" 事务管理")]),t._v(" "),s("p",[t._v("在默认的代理模式下，只有目标方法由外部调用，才能被 Spring 的事务拦截器拦截。在同一个类中的两个方法直接调用，是不会被 Spring 的事务拦截器拦截，\n就像上面的 save 方法直接调用了同一个类中的 method1方法，method1 方法不会被 Spring 的事务拦截器拦截")]),t._v(" "),s("h4",{attrs:{id:"工程名的构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工程名的构建"}},[t._v("#")]),t._v(" 工程名的构建")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("spring.application.name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("XXX-XXX-XX")]),t._v("\n")])])]),s("p",[t._v('不能识别下划线"_"，只能识别"-"')]),t._v(" "),s("h4",{attrs:{id:"为表添加唯一性约束"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为表添加唯一性约束"}},[t._v("#")]),t._v(" 为表添加唯一性约束")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" msg_queue "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNIQUE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resource_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resource_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"微服务下安全认证与鉴权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微服务下安全认证与鉴权"}},[t._v("#")]),t._v(" 微服务下安全认证与鉴权")]),t._v(" "),s("p",[t._v("1、单体应用体系下，应用是一个整体，一般针对所有的请求都会进行权限校验。\n请求一般会通过一个权限的拦截器进行权限的校验，在登录时将用户信息缓存到 session 中，后续访问则从缓存中获取用户信息。")]),t._v(" "),s("p",[t._v("2、微服务架构下，一个应用会被拆分成若干个微应用，每个微应用都需要对访问进行鉴权，每个微应用都需要明确当前访问用户以及其权限。\n尤其当访问来源不只是浏览器，还包括其他服务的调用时，单体应用架构下的鉴权方式就不是特别合适了。\n在微服务架构下，要考虑外部应用接入的场景、用户 - 服务的鉴权、服务 - 服务的鉴权等多种鉴权场景。")]),t._v(" "),s("h2",{attrs:{id:"bug"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bug"}},[t._v("#")]),t._v(" BUG")]),t._v(" "),s("h3",{attrs:{id:"请求参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求参数"}},[t._v("#")]),t._v(" 请求参数")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AjaxResult")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMsgQueue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestBody")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JsonParam")]),t._v(" param"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//处理请求体是json格式的数据，一般对应post请求")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AjaxResult")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMsgQueue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestParam")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//处理请求体是form-data格式的数据，一般对应get请求")]),t._v("\n")])])]),s("h3",{attrs:{id:"时间入库多1s"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时间入库多1s"}},[t._v("#")]),t._v(" 时间入库多1s")]),t._v(" "),s("p",[t._v("mysql 中的时间格式是"),s("code",[t._v("java.sql.date")]),t._v(",而java代码里面的时间格式是"),s("code",[t._v("java.util.date")]),t._v(",这是两种不同的格式。\n在用到 Mybatis 时，发现存入数据库的时间总是比前台传递来的时间轴要多一秒，原因是在入库时，数据库对时间格式进行了四舍五入，将后面的毫秒进位了。有两种方式改变：1)改变入库的时间格式，值精确到秒；2)或者改变数据库字段，将 datetime 类型的长度设置为3，即精确到毫秒（推荐），默认只精确到秒。")]),t._v(" "),s("h3",{attrs:{id:"跨域问题总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域问题总结"}},[t._v("#")]),t._v(" 跨域问题总结")]),t._v(" "),s("p",[t._v("由于浏览器同源策略，凡是发送请求url的协议、域名、端口三者之间任意一与当前页面地址不同即为跨域。存在跨域的情况：\n1.网络协议不同，如http协议访问https协议。\n2.端口不同，如80端口访问8080端口。\n3.域名不同，如qianduanblog.com访问baidu.com。\n4.子域名不同，如abc.qianduanblog.com访问def.qianduanblog.com。\n5.域名和域名对应ip,如www.bb.com访问8.8.8.8.")]),t._v(" "),s("p",[t._v("报错：Failed to load http://localhost:8081/socket.io/?EIO=3&transport=polling&t=1523265142408-2: The 'Access-Control-Allow-Origin' header has a value 'null' that is not equal to the supplied origin.\nOrigin 'null' is therefore not allowed access.")]),t._v(" "),s("blockquote",[s("p",[t._v("典型的跨域问题。跨域是指 不同域名之间相互访问。跨域，指的是浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是浏览器对JavaScript施加的安全限制。\n也就是如果在A网站中，我们希望使用Ajax来获得B网站中的特定内容\n如果A网站与B网站不在同一个域中，那么就出现了跨域访问问题。")])]),t._v(" "),s("p",[t._v("参考：https://blog.csdn.net/lenkvin/article/details/79482205")]),t._v(" "),s("h3",{attrs:{id:"docker容器时间与主机时间不一致的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker容器时间与主机时间不一致的问题"}},[t._v("#")]),t._v(" Docker容器时间与主机时间不一致的问题")]),t._v(" "),s("p",[t._v("查看主机的时间：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# date")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2016")]),t._v("年 07月 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v("日 星期三 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(":42:44 CST\n")])])]),s("p",[t._v("查看容器的时间：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("root@b43340ecf5ef:/"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# date                                                                                               ")]),t._v("\nWed Jul "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":43:31 UTC "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2016")]),t._v("\n")])])]),s("p",[t._v("CST应该是指（China Shanghai Time，东八区时间）\nUTC应该是指（Coordinated Universal Time，标准时间）\n所以，这2个时间实际上应该相差8个小时。")]),t._v(" "),s("blockquote",[s("p",[t._v("解决办法：\n1、可以复制主机的localtime，并重启mysql服务或者是docker服务")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" /etc/localtime "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("容器ID或者NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(":/etc/localtime\n")])])]),s("p",[t._v("2、可以创建自定义的dockerfile文件,并使用docker build重新构建项目")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("FROM redis\nFROM tomcat\nENV CATALINA_HOME /usr/local/tomcat\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置时区")]),t._v("\nRUN /bin/cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asia/Shanghai'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/etc/timezone \n")])])]),s("h3",{attrs:{id:"记一次偶然遇到mysql的max-connection-errors错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#记一次偶然遇到mysql的max-connection-errors错误"}},[t._v("#")]),t._v(" 记一次偶然遇到mysql的max_connection_errors错误")]),t._v(" "),s("blockquote",[s("p",[t._v("Host is blocked because of many connection errors; unblock with 'mysqladmin flush-hosts'")])]),t._v(" "),s("p",[t._v("参考：https://www.cnblogs.com/kerrycode/p/8405862.html")]),t._v(" "),s("p",[t._v("原因：MySQL服务器已经从某个host接收了大量中途终止的连接，于是决定终止继续接收来自该host的连接，允许最大的连接错误数为max_connect_errors，通过show variables命令可以查询，一般为10。")]),t._v(" "),s("blockquote",[s("p",[t._v("解决办法：\n1、可以在数据库中直接执行："),s("code",[t._v("flush hosts")]),t._v(";\n2、可以手动更改数据库的最大连接出错设置,依次运行："),s("code",[t._v("show variables like '%max_connection_errors%';")]),t._v(" "),s("code",[t._v("set global max_connect_errors = 1000;")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);