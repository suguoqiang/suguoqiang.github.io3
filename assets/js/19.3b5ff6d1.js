(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{514:function(s,a,t){"use strict";t.r(a);var r=t(6),n=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"elasticsearch-jdbc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-jdbc"}},[s._v("#")]),s._v(" elasticsearch-jdbc")]),s._v(" "),t("p",[s._v("官网下载地址："),t("a",{attrs:{href:"https://www.elastic.co/downloads/jdbc-client",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"方式一-手动编写配置文件操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式一-手动编写配置文件操作"}},[s._v("#")]),s._v(" 方式一，手动编写配置文件操作")]),s._v(" "),t("p",[s._v("1、安装elasticsearch-jdbc中间键")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("wget http:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xbib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("repository"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xbib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("elasticsearch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("importer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("elasticsearch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("elasticsearch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zip \nunzip elasticsearch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zip \n")])])]),t("p",[s._v("2、安装dos2unix")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("yum install dos2unix\n")])])]),s._v(" "),t("p",[s._v("3、编写配置文件mysql_accountinfo.sh")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$( cd "'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("BASH_SOURCE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\nbin='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DIR}")]),s._v("/../bin\nlib="),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${DIR}")]),s._v("/../lib\n\necho '{\n    \"")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n    "')]),s._v("jdbc"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":{\n        "')]),s._v("url"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("jdbc:mysql://localhost:3306/kakme"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n        "')]),s._v("user"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("root"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n        "')]),s._v("password"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n        "')]),s._v("sql"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" as _id , account_name as accountName , nick_name nickName from account_info"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n        "')]),s._v("elasticsearch"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" : {\n            "')]),s._v("cluster"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" : "')]),s._v("nini"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n            "')]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" : "')]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n            "')]),s._v("port"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" : 9300\n        },\n        "')]),s._v("index"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("cwenao"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n        "')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("accountinfo"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n\n        "')]),s._v("type_mapping"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" :{\n            "')]),s._v("account_info"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('": {\n                "')]),s._v("properties"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('": {\n                    "')]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":{\n                        "')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("string"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('",\n                        "')]),s._v("index"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("not_analyzed"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\n                    },\n                    "')]),s._v("accountName"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":{\n                        "')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("string"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\n                    },\n                    "')]),s._v("nickName"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":{\n                        "')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v("string"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\n                    }\n                }\n            }\n        }\n    }\n}\' | java \\\n    -cp "')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${lib}")]),s._v('/*" '),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -Dlog4j.configurationFile"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${bin}")]),s._v("/log4j2.xml "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    org.xbib.tools.Runner "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    org.xbib.tools.JDBCImporter\n")])])]),t("p",[s._v("4、上传服务器并用dos2unix转换")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("dos2unix mysql_accountinfo.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("700")]),s._v(" mysql_accountinfo.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" mysql_accountinfo.sh\n")])])]),t("p",[s._v("5、查看结果")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("curl -XGET 'http://localhost:9200/cwenao/accountinfo/_search?pretty'\n")])])]),t("p",[s._v("参考博客：https://blog.csdn.net/cwenao/article/details/54944937")]),s._v(" "),t("h4",{attrs:{id:"其他方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他方式"}},[s._v("#")]),s._v(" 其他方式")]),s._v(" "),t("p",[s._v("参考中文连接："),t("a",{attrs:{href:"https://elasticsearch.cn/article/687#0-tsina-1-2124-397232819ff9a47a7b7e80a40613cfe1",target:"_blank",rel:"noopener noreferrer"}},[s._v("中文社区"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("或者使用logstash，参考连接："),t("a",{attrs:{href:"https://elastic-search-in-action.medcl.com/3.6_data_migration.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("连接"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("参考：https://doc.yonyoucloud.com/doc/logstash-best-practice-cn/get_start/hello_world.html")]),s._v(" "),t("h3",{attrs:{id:"logstash导入mysql数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#logstash导入mysql数据"}},[s._v("#")]),s._v(" Logstash导入Mysql数据")]),s._v(" "),t("h4",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[s._v("1、去"),t("a",{attrs:{href:"https://www.elastic.co/downloads/logstash",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v("下载zip安装包")]),s._v(" "),t("p",[s._v("2、下载JDBC链接驱动，选择java源，下载地址："),t("a",{attrs:{href:"https://dev.mysql.com/downloads/connector/j/",target:"_blank",rel:"noopener noreferrer"}},[s._v("地址"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),t("p",[s._v("1、在 logstash 解压后的"),t("code",[s._v("/bin")]),s._v("目录下，创建一个 Logstash 的配置文件：jdbc.conf。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("input "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  jdbc "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    jdbc_driver_library "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"F:\\mysql-connector-java-5.1.38\\mysql-connector-java-5.1.38\\mysql-connector-java-5.1.38-bin.jar"')]),s._v("\n    jdbc_driver_class "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Java::com.mysql.jdbc.Driver"')]),s._v("\n    jdbc_connection_string "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jdbc:mysql://127.0.0.1:3306/im"')]),s._v("\n    jdbc_user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("\n    jdbc_password "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("\n    statement "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msgId"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(", "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("content"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(", "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(", "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("fromUser"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(", "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("toUser"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(", "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msgType"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(","),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("hasRead"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("  FROM "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("im"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("."),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("msg_info"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v('"')]),s._v("\n    jdbc_paging_enabled "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),s._v("\n    jdbc_page_size "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"50000"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nfilter "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\noutput "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  stdout "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    codec "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" rubydebug\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n \n  elasticsearch "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    index "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"forum-mysql"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("这里需要注意的是，JDBC驱动不要安装最新版的8.x，启动不了，暂时还不知道为什么，选用的是5.X版本。")])]),s._v(" "),t("p",[s._v("2、执行命令，启动 Logstash")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ cd ~"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("logstash"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("6"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin\n$ logstash "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f jdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n")])])]),t("blockquote",[t("p",[s._v("如果报错，可能是SQL表中存在为null的字段，删除即可。")])]),s._v(" "),t("p",[s._v("3、登录kibana查看数据：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("GET forum-mysql/_search\n")])])]),t("p",[t("img",{attrs:{src:"http://cdn.gqsu.top/logstash01-1.png",alt:""}})]),s._v(" "),t("h4",{attrs:{id:"报错修复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#报错修复"}},[s._v("#")]),s._v(" 报错修复")]),s._v(" "),t("p",[t("code",[s._v("Error: Java::com.mysql.jdbc.Driver not loaded. Are you sure you've included the correct jdbc driver in :jdbc_driver_library?")])]),s._v(" "),t("p",[s._v("--\x3e 请尝试使用 JDK 8 来运行 Logstash。")])])}),[],!1,null,null,null);a.default=n.exports}}]);