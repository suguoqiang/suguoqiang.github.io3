(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{541:function(s,a,t){"use strict";t.r(a);var e=t(6),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("服务器系统：centOs 7")]),s._v(" "),t("blockquote",[t("p",[s._v("注意版本号要与服务器对应")])]),s._v(" "),t("blockquote",[t("p",[s._v("安装前准备：已下载好对应的JDK和Mysql安装包\n当然，你也可以通过wget +地址的方式进行在线下载")])]),s._v(" "),t("h3",{attrs:{id:"wget工具安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wget工具安装"}},[s._v("#")]),s._v(" wget工具安装")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ yum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y install wget\n")])])]),t("blockquote",[t("p",[s._v("在虚拟机中可能会出现安装失败，解决办法：\n进入编辑模式"),t("code",[s._v("vi /etc/sysconfig/network-scripts/ifcfg-enp0s3")]),s._v(" ，\n将"),t("code",[s._v("ONBOOT=no")]),s._v("改为"),t("code",[s._v("ONBOOT=yes")]),s._v("，就OK。\n保存后重启网卡： "),t("code",[s._v("service network restart")]),s._v("即可")])]),s._v(" "),t("h3",{attrs:{id:"jdk安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jdk安装"}},[s._v("#")]),s._v(" JDK安装")]),s._v(" "),t("p",[s._v("去官网下载JDK安装包 或者 wget安装，但须带上请求头："),t("code",[s._v('wget --no-check-certificate --no-cookies --header "Cookie: oraclelicense=accept-securebackup-cookie"')])]),s._v(" "),t("p",[s._v("1、进入"),t("code",[s._v("/usr/local/java")]),s._v("目录下（该目录即对应的环境安装目录,也可以更改为其他的如：/data/soft/）")]),s._v(" "),t("p",[s._v("2、解压压缩文件：")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ tar "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("zxvf jdk"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("8u161"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("linux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x64"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" jdk1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0_151  jdk1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("8\n")])])]),t("p",[s._v("3、编辑配置文件，配置环境变量：")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ vim "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("profile\n")])])]),t("p",[s._v("在profile文件的末尾加入环境变量：")]),s._v(" "),t("div",{staticClass:"language-vim extra-class"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[s._v("#java\nJAVA_HOME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("java"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jdk1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\nCLASSPATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$JAVA_HOME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\nPATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$PATH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("$JAVA_HOME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bin")]),s._v("\nexport PATH JAVA_HOME CLASSPATH\n")])])]),t("blockquote",[t("p",[s._v("也可以写成如下形式：")])]),s._v(" "),t("div",{staticClass:"language-vim extra-class"},[t("pre",{pre:!0,attrs:{class:"language-vim"}},[t("code",[s._v("export JAVA_HOME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("soft"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jdk1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\nexport PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("$JAVA_HOME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("$PATH\n")])])]),t("p",[s._v("4、使配置文件立即生效")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ source "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("profile\n")])])]),t("p",[s._v("5、查看是否安装完成")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ java "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("version\n")])])]),t("h3",{attrs:{id:"mysql安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql安装"}},[s._v("#")]),s._v(" Mysql安装")]),s._v(" "),t("p",[s._v("1、下载mysql源安装包")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ wget http:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("get"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysql57"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("community"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("el7"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("noarch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpm\n")])])]),t("p",[s._v("2、安装mysql源包")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ yum install mysql57"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("community"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("el7"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("noarch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpm\n")])])]),t("p",[s._v("3、检查mysql源是否安装成功")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ yum repolist enabled "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" grep "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql.*-community.*"')]),s._v("\n")])])]),t("p",[s._v("或者使用"),t("code",[s._v("yum repolist all | grep mysql")]),s._v("命令"),t("br"),s._v("\n正常安装会出现如下界面："),t("img",{attrs:{src:"http://cdn.gqsu.top/linux01-1.png",alt:""}})]),s._v(" "),t("p",[s._v("4、安装MySQL服务")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$  yum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y install mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("community"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server\n")])])]),t("p",[s._v("下面参考：（外网链接阿里ECS mysql 3306端口）\nhttps://segmentfault.com/q/1010000009603559?sort=created")]),s._v(" "),t("p",[s._v("5、将MySQL服务加入开机启动")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ systemctl enable mysqld\n")])])]),t("p",[s._v("6、启动mysql服务进程")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ systemctl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),s._v(" mysqld\n")])])]),t("p",[s._v("7、配置mysql(新版本密码设置要求：大小写+数字+特殊字符)")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ mysql_secure_installation\n")])])]),t("blockquote",[t("p",[s._v("也可以通过命令："),t("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'xxxxxx'")]),s._v("; 执行后："),t("code",[s._v("flush privileges")]),s._v(" ,刷新权限。yum安装系统会默认生成随机密码，可用过"),t("code",[s._v("grep 'password' /var/log/mysqld.log |head -n1")]),s._v("查看。")])]),s._v(" "),t("p",[s._v("8、设置mysql（外部不能访问mysql）")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p\n>use mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n>update user "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" host=’"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("’ where user=’root’"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n>"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),s._v(" host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("user "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n$ service mysqld restart\n")])])]),t("p",[s._v("9、其他相关")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看mysql操作日志")]),s._v("\n$ service mysqld restart       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启mysql服务")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);