(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{672:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"linux-自启动脚本创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-自启动脚本创建"}},[t._v("#")]),t._v(" Linux 自启动脚本创建")]),t._v(" "),a("blockquote",[a("p",[t._v("Elasticsearch Linux 自启动脚本。")])]),t._v(" "),a("p",[t._v("假设文件所在位置为/usr/local/el-start.sh。内容如下:")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\nexport JAVA_HOME="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jdk1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0_121\nexport JRE_HOME=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jre\nexport CLASSPATH="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(":$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib:$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JRE_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib\nexport PATH=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin:"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v("\nsu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" elastic<<"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\ncd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("elastic"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("elasticsearch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("elasticsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),t._v(" "),a("h4",{attrs:{id:"脚本解释说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本解释说明"}},[t._v("#")]),t._v(" 脚本解释说明")]),t._v(" "),a("p",[t._v("Elasticsearch启动需要jdk支持，故首先设置jdk系统变量")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("export JAVA_HOME="),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jdk1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0_121\nexport JRE_HOME=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jre\nexport CLASSPATH="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(":$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib:$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JRE_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib\nexport PATH=$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin:"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v("\n")])])]),a("h4",{attrs:{id:"启动报错-bash-test-sh-bin-sh-m-bad-interpreter-no-such-file-or-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动报错-bash-test-sh-bin-sh-m-bad-interpreter-no-such-file-or-directory"}},[t._v("#")]),t._v(" 启动报错 -bash: ./test.sh: /bin/sh^M: bad interpreter: No such file or directory")]),t._v(" "),a("blockquote",[a("p",[t._v("原因是 test.sh是我在windows下编辑然后上传到linux系统里执行的。.sh文件的格式为dos格式。而linux只能执行格式为unix格式的脚本。")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("$ vi test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh   \n")])])]),a("p",[t._v("2.在vi命令模式中使用  "),a("code",[t._v(":set ff")]),t._v("命令，可以看到该文件的格式为fileformate=dos。")]),t._v(" "),a("p",[t._v("3.在vi命令模式中使用  "),a("code",[t._v(":set ff=unix")]),t._v("命令，修改文件format为unix")]),t._v(" "),a("p",[t._v("4.在vi命令模式中再次使用  "),a("code",[t._v(":set ff")]),t._v("命令，可看到已经修改为unix。保存退出即可。")]),t._v(" "),a("h4",{attrs:{id:"elasticsearch启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch启动"}},[t._v("#")]),t._v(" Elasticsearch启动")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#默认不支持root用户启动,切换用户")]),t._v("\nsu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" elastic\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#进入Elasticsearch安装目录")]),t._v("\ncd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("elastic"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("elasticsearch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#以后台守护进程方式启动")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("elasticsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#脚本设置完成后执行脚本测试，如果启动成功。则可以将脚本加入系统文件中，系统重启就会自动加载。")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#编辑文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("rc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("rc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("local\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#加入")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("el"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\n")])])]),a("h3",{attrs:{id:"后台持续运行一个node进程-并输出日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台持续运行一个node进程-并输出日志"}},[t._v("#")]),t._v(" 后台持续运行一个node进程，并输出日志")]),t._v(" "),a("p",[t._v("1，新建run.sh，并添加如下信息：")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("nohup npm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),t._v(" > console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log 2 > error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log &\n")])])]),a("h3",{attrs:{id:"github徽标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github徽标"}},[t._v("#")]),t._v(" Github徽标")]),t._v(" "),a("p",[t._v("GitHub徽标官网是 "),a("img",{attrs:{src:"shields.io/",alt:""}})]),t._v(" "),a("p",[t._v("徽标格式：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不带链接的")]),t._v("\nhttps://img.shields.io/badge/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标标题"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标内容"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标颜色"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".svg\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#带链接的")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("https://img.shields.io/badge/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标标题"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标内容"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标颜色"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".svg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("linkUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("徽标标题：徽标左边的文字")]),t._v(" "),a("li",[t._v("徽标内容：徽标右边的文字")]),t._v(" "),a("li",[t._v("徽标颜色：徽标右边的背景颜色，可以是颜色的16进制值，也可以是颜色英文。支持的颜色英文有：brightgreen、green、yellowgreen、yellow、orange、red、blue、lightgrey、success、important、critical、informational、inactive、blueviolet、ff69b4、9cf")])]),t._v(" "),a("p",[t._v("例子：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("https://img.shields.io/badge/blog-@champyin-red.svg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("https://champyin.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("可自定义 query string 控制样式。使用方式跟URL的query string一致：徽标图标地址?{参数名}={参数值}，多个参数用 & 连接。格式：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("https://img.shields.io/badge/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标标题"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标内容"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("徽标颜色"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(".svg?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("参数名1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("参数值1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("参数名2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("参数值2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("style：控制徽标主题样式，style的值可以是：  plastic | flat | flat-square | social 。分别对应立体效果，扁平化效果、扁平 + 去圆角效果、社交样式效果。")]),t._v(" "),a("li",[t._v("label：用来强制覆盖原有徽标的标题文字。")]),t._v(" "),a("li",[t._v("colorA：控制左半部分背景颜色，只能用16进制颜色值作为参数，不能使用颜色英文。")]),t._v(" "),a("li",[t._v("colorB：控制右半部分背景颜色。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);